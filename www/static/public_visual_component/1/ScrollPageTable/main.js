!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/screen/components/",n(n.s=13)}([function(e,t){e.exports=React},function(e,t){e.exports=PropTypes},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return u});var a=n(7),r={message:"暂无数据",icon:n.n(a).a},o=165,i=1,l="scroll-page-table",c=1e3,u=15},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var a=n(2),r=function(){},o=function(e,t){return[t].flat().some(function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"})},i=function(e){return e?+String(e).replace("px",""):0},l=function(e,t,n,r,o,l,c){if(c<=a.e)return a.e;var u=(e?window.getComputedStyle(e):{}).height,s=void 0===u?0:u,f=(t?window.getComputedStyle(t):{}).height,p=void 0===f?0:f,d=(n?window.getComputedStyle(n):{}).height,m=void 0===d?0:d,g=(r?window.getComputedStyle(r):{}).height,h=void 0===g?0:g,v=[e,t].filter(function(e){return e}).length*a.a,y=c-i(s)-i(p)-(o?i(m):0)-(l?v:0)-i(h);return Math.max(y,a.e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[(e=e.replace(/\n/g,"")).match(/\(([\w]*)\)/)[1]||"",e.match(/\{([\s\S]*)\}/)[1]||""]}},function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)){if(a.length){var i=r.apply(null,a);i&&e.push(i)}}else if("object"===o)if(a.toString===Object.prototype.toString)for(var l in a)n.call(a,l)&&a[l]&&e.push(l);else e.push(a.toString())}}return e.join(" ")}void 0!==e&&e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},function(e,t){e.exports=dv.adapter},function(e,t){e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ij48L2VsbGlwc2U+PGcgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiNEOUQ5RDkiPjxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiPjwvcGF0aD48cGF0aCBkPSJNNDEuNjEzIDE1LjkzMWMwLTEuNjA1Ljk5NC0yLjkzIDIuMjI3LTIuOTMxSDU1djE4LjEzN0M1NSAzMy4yNiA1My42OCAzNSA1Mi4wNSAzNWgtNDAuMUMxMC4zMiAzNSA5IDMzLjI1OSA5IDMxLjEzN1YxM2gxMS4xNmMxLjIzMyAwIDIuMjI3IDEuMzIzIDIuMjI3IDIuOTI4di4wMjJjMCAxLjYwNSAxLjAwNSAyLjkwMSAyLjIzNyAyLjkwMWgxNC43NTJjMS4yMzIgMCAyLjIzNy0xLjMwOCAyLjIzNy0yLjkxM3YtLjAwN3oiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="},,,function(e,t){e.exports=dv.adapter._},function(e,t){e.exports=dv.adapter.ReactComponent},,function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),o=n.n(r),i=n(11),l=n.n(i),c=n(4),u=function(e){var t=e.className,n=e.children,a=e.forwardRef,r=void 0===a?c.c:a;return o.a.createElement("div",{ref:function(e){return r(e)},className:t},n)},s=n(1),f=n.n(s),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d={message:f.a.string,icon:f.a.string},m={onRow:f.a.func,onCell:f.a.func,onScroll:f.a.func,getContainer:f.a.func},g={pageSize:f.a.number,onChange:f.a.func,total:f.a.number},h={align:f.a.oneOf(["left","right","center"]),ellipsis:f.a.bool,className:f.a.string,dataIndex:f.a.string.isRequired,title:f.a.string.isRequired,width:f.a.oneOfType([f.a.string,f.a.number])},v=f.a.shape({current:f.a.number,pageSize:f.a.number,total:f.a.number,data:f.a.shape({columns:f.a.arrayOf(h),dataSource:f.a.arrayOf(f.a.object)})}),y=p({title:f.a.oneOfType([f.a.string,f.a.func]),footer:f.a.oneOfType([f.a.string,f.a.func]),titleWrapperClassname:f.a.string,footerWrapperClassname:f.a.string,containerWrapperClassname:f.a.string,bordered:f.a.bool,showHeader:f.a.bool,empty:f.a.shape(d),rowKey:f.a.string.isRequired,autoplay:f.a.bool,stopWhenMouseEvent:f.a.bool,interval:f.a.number,pagination:f.a.oneOfType([f.a.bool,f.a.shape(g)]),data:v,sort:f.a.func},m),b=function(e){var t=e.columns;return o.a.createElement("colgroup",null,t.map(function(e,t){var n=e.width,a={};return n&&(a.width=n),o.a.createElement("col",{key:t,style:a})}))};b.propTypes={columns:f.a.arrayOf(f.a.shape(h)).isRequired},b.defaultProps={columns:[]};var w=b,C=n(5),S=n.n(C);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){var t=e.prefix,n=e.columns,a=e.forwardRef;return n&&n.length?o.a.createElement("div",{className:t+"-sticky-header",ref:function(e){return a(e)}},o.a.createElement("table",{className:t+"-sticky-header-table"},o.a.createElement(w,{columns:n}),o.a.createElement("thead",null,o.a.createElement("tr",null,n.map(function(e){var n,a=e.ellipsis,r=e.align,i=e.className,l=e.dataIndex,c=e.title;return o.a.createElement("td",{key:l,className:S()(i,(n={},j(n,t+"-cell-ellipsis",a),j(n,t+"-cell-align-"+r,r),n))},c)}))))):null};N.propTypes={prefix:f.a.string,columns:f.a.arrayOf(f.a.shape(h)).isRequired,forwardRef:f.a.func},N.defaultProps={columns:[],forwardRef:c.c},N.displayName="StickyHeader";var O=N,x=n(10),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t=e.columns,n=e.dataSource,a=e.prefix,r=e.empty,i=(r=void 0===r?{}:r).message,l=void 0===i?"":i,u=r.icon,s=void 0===u?"":u,f=e.rowKey,p=e.onRow,d=e.onCell,m=e.getContainer,g=e.pageSize;return n.length?o.a.createElement("table",{ref:function(e){return m(e)}},o.a.createElement(w,{columns:t}),Object(x.chunk)(n,g).map(function(e,n){return o.a.createElement("tbody",{key:n,"data-index":n+1},e.map(function(e,r){return o.a.createElement("tr",{key:e[f]||r,onClick:function(t){return p(t,e,r)}},t.map(function(t){var i,l=t.dataIndex,u=t.ellipsis,s=t.align,f=t.className;return o.a.createElement("td",{className:S()(f,(i={},I(i,a+"-cell-ellipsis",u),I(i,a+"-cell-align-"+s,s),i)),key:l,onClick:function(t){return d(t,e[l],e,r)}},function(e,t,n){return Object(c.e)(e,"Function")?e(e,t,n):e}(e[l],e,r),"-page-",n+1)}))}))})):o.a.createElement("div",{className:a+"-container-empty"},o.a.createElement("img",{src:s}),o.a.createElement("span",null,l))};E.propTypes=M({columns:f.a.arrayOf(f.a.shape(h)).isRequired,dataSource:f.a.arrayOf(f.a.object).isRequired,prefix:f.a.string,empty:f.a.shape(d),rowKey:f.a.string.isRequired,pageSize:f.a.number},m),E.defaultProps={columns:[],dataSource:[],rowKey:"key",onCell:c.c,onRow:c.c,getContainer:c.c};var z=E,R=n(2);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){var t=e.forwardRef,n=e.total,a=e.pageSize,r=e.onChange,i=e.prefix,l=e.page,c=n?Math.ceil(n/a):0,u=i+"-pagination",s=S()(u+"-item",k({},u+"-disable",1===l)),f=S()(u+"-item",k({},u+"-disable",l===c));return o.a.createElement("ul",{ref:function(e){return t(e)},className:u},o.a.createElement("li",{className:s,onClick:function(e){return 1!==l&&r(l-1,e)}},o.a.createElement("i",null,o.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"})))),new Array(c).fill("").map(function(e,t){return o.a.createElement("li",{key:t,className:function(e){return S()(u+"-item",k({},u+"-item-active",l===e+1))}(t),onClick:function(){return t+1!==l&&r(t+1)}},t+1)}),o.a.createElement("li",{className:f,onClick:function(e){return l!==c&&r(l+1,e)}},o.a.createElement("i",null,o.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"})))))};A.propTypes={forwardRef:f.a.func,total:f.a.number,pageSize:f.a.number,onChange:f.a.func,prefix:f.a.string.isRequired,page:f.a.number},A.defaultProps={forwardRef:c.c,onChange:c.c,total:0,pageSize:R.f,page:1};var P=A,T=(n(14),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),L=new Array(11).fill({name:"Edward King 0",age:"32",address:"London, Park Lane no. 0.London, Park Lane no. 0.London, Park Lane no. 0.London, Park Lane no. 0"}).map(function(e,t){return T({key:t},e)}),D={current:1,pageSize:R.f,total:10,data:{columns:[{title:"姓名",dataIndex:"name",key:"name"},{title:"年龄(可能是实岁也可能是虚岁)",dataIndex:"age",key:"age"},{title:"住址",dataIndex:"address",key:"address"}],dataSource:L}},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q="ff-component-scroll-page-table",F=function(e){function t(e){W(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Y.call(n),n.addEventListener(),n}return Z(t,r["PureComponent"]),G(t,[{key:"componentWillReceiveProps",value:function(e){this.stopAnimation(!1);var t=this.generateTableContentHeight(e);this.handleScrollPage(e,t),this.combineColumns(this.state.dataColumns),this.serilizeData(e.data,e)}},{key:"componentWillUnmount",value:function(){this.removeEventListener()}},{key:"render",value:function(){var e,t,n,a=this,r=this.props,i=r.title,l=r.titleWrapperClassname,c=r.footer,s=r.footerWrapperClassname,f=r.bordered,p=r.containerWrapperClassname,d=r.empty,m=r.rowKey,g=r.showHeader,h=r.pagination,v=this.state,y=v.tableContentHeight,b=v.page,w=v.total,C=v.pageSize,j=v.data,N=v.dataColumns,x=this.combineColumns(N),M=S()(q,(n=f,(t=q+"-bordered")in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o.a.createElement("div",{className:M},i&&o.a.createElement(u,{forwardRef:function(e){return a.headerRef=e},className:S()(q+"-title",l)},this.transferTitleOrFooter(i)),o.a.createElement("div",{className:S()(q+"-container",p)},g&&o.a.createElement(O,{prefix:q,columns:x,forwardRef:function(e){return a.stickyHeaderRef=e}}),o.a.createElement("div",{ref:function(e){return a.scrollContent=e},className:q+"-container-wrapper",style:{height:y},onScroll:this.handleOnScroll,onWheel:function(){return a.stopAnimation()}},o.a.createElement(z,{prefix:q,columns:x,dataSource:j,empty:d,rowKey:m,onCell:this.handleOnCell,onRow:this.handleOnRow,getContainer:this.handleGetContainer,pageSize:C}))),c&&o.a.createElement(u,{forwardRef:function(e){return a.footerRef=e},className:S()(q+"-footer",s)},this.transferTitleOrFooter(c)),h&&o.a.createElement(P,{prefix:q,forwardRef:function(e){return a.paginationRef=e},total:w,pageSize:C,page:b,onChange:function(e){return a.animationScroll(a.props,y,!0,e)}}))}}]),t}();F.propTypes=y;var Y=function(){var e=this;this.state={page:1,pageSize:R.f,total:0,tableContentHeight:"auto",data:[],columns:[],dataColumns:[]},this.headerRef=null,this.footerRef=null,this.stickyHeaderRef=null,this.tableContent=null,this.scrollContent=null,this.paginationRef=null,this.scrollTimer=0,this.memoTimestamp=null,this.animationStatus=!1,this.mounted=function(e,t){e[t?"unbind":"bind"]("render",t?void 0:function(){})},this.loaded=function(t,n){t[n?"unbind":"bind"]("loaded",n?void 0:function(t){e.serilizeData(t)})},this.serilizeData=function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props).sort;console.log("sort",n);var a=t||{},r=a.current,o=void 0===r?1:r,i=a.pageSize,l=void 0===i?R.f:i,u=a.total,s=a.data,f=(s=void 0===s?{}:s).dataSource,p=void 0===f?[]:f,d=s.columns,m=void 0===d?[]:d,g=n(p);e.setState({data:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object(c.e)(g,"Array")?g:p)),dataColumns:m,page:o,pageSize:l,total:u})},this.resized=function(t,n){t[n?"unbind":"bind"]("resized",n?void 0:function(t){t.width;var n=t.height,a=e.generateTableContentHeight(e.props,n);!e.animationStatus&&e.handleScrollPage(e.props,a)})},this.addEventListener=function(){var t=e.props.parent;e.mounted(t),e.loaded(t),e.resized(t)},this.removeEventListener=function(){var t=e.props.parent;e.mounted(t,!0),e.loaded(t,!0),e.resized(t,!0)},this.transferTitleOrFooter=function(t){var n=e.state.page;return"string"==typeof t?t:t(n)},this.generateTableContentHeight=function(t,n){var a=t.parent,r=t.showHeader,o=t.bordered,i=n||a.height,l=Object(c.a)(e.headerRef,e.footerRef,e.stickyHeaderRef,e.paginationRef,r,o,i);return e.setState({tableContentHeight:l}),l},this.handleOnCell=function(t,n,a,r){var o=e.props,i=o.parent,l=o.onCell;i.trigger(R.c+"-cell-click",{event:t,text:n,record:a,index:r}),l(t,n,a,r)},this.handleOnRow=function(t,n,a){var r=e.props,o=r.parent,i=r.onRow;o.trigger(R.c+"-row-click",{event:t,record:n,index:a}),i(t,n,a)},this.handleGetContainer=function(t){var n=e.props.getContainer;e.tableContent=t,n(t)},this.stopAnimation=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.scrollTimer&&(window.cancelAnimationFrame(e.scrollTimer),e.scrollTimer=0,e.memoTimestamp=null,t&&(e.animationStatus=!1,e.props.parent.trigger(R.c+"-animation-end")))},this.animationScroll=function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],o=t.interval,i=t.parent,l=e.state.page,u=e.scrollContent,s=u.scrollHeight,f=u.scrollTop,p=(e.stickyHeaderRef?window.getComputedStyle(e.stickyHeaderRef):{}).height,d=void 0===p?0:p;if(r||!(s<=n||s-Object(c.d)(d)-f<=n)){a&&i.trigger(R.c+"-animation-start");e.scrollTimer=window.requestAnimationFrame(function a(i){e.animationStatus=!0,e.memoTimestamp||(e.memoTimestamp=i);var c=i-e.memoTimestamp,u=c*(n/o),p=(e.tableContent&&e.tableContent.querySelector("tbody[data-index='"+(r||l)+"']")||{}).offsetTop,d=void 0===p?0:p,m=r?l<r?"down":"up":"down";r&&(u=c*("up"===m?f-d:d-f)/o);var g="up"===m?f-u:f+u;if(e.scrollContent.scrollTop=Math["up"===m?"max":"min"](g,d),c<o)e.scrollTimer=window.requestAnimationFrame(a);else{var h=e.observePage(t,r);e.stopAnimation(r||!h),r||(d+n>s&&setTimeout(function(){e.scrollContent.scrollTop=0,e.animationScroll(t,n,!1,r)},c),e.animationScroll(t,n,!1,r))}})}else e.stopAnimation(!0)},this.handleScrollPage=function(t,n){var a=t.autoplay,r=t.interval;e.scrollContent&&(r=Math.max(r,R.d),a?e.animationScroll(t,n):e.stopAnimation())},this.observePage=function(t,n){var a=t||e.props,r=a.pagination,o=a.parent,i=e.state,l=i.page,u=i.data,s=i.pageSize,f=n||l+1;r=r||{};var p=Math.ceil(u.length/s),d=n?l!==n:f<=p;return d&&f!==l&&(e.setState({page:f}),o.trigger(R.c+"-page-change",{page:f}),Object(c.e)(r.onChange,"Function")&&r.onChange(f,r.pageSize||R.f)),d},this.handleOnScroll=function(t){if(!e.animationStatus){var n=e.state,a=n.tableContentHeight,r=n.page,o=n.data,i=n.pageSize,l=e.scrollContent,c=l.scrollTop,u=l.scrollHeight,s=Math.min(r+1,Math.ceil(o.length/i)),f=e.tableContent.querySelector("tbody[data-index='"+s+"']").offsetTop,p=e.tableContent.querySelector("tbody[data-index='"+r+"']").offsetTop,d=1;c&&c+a+20>=u?d=Math.ceil(o.length/i):c&&c>=p&&c<f?d=r:c&&c>=f&&(d=s),e.observePage(e.props,d)}e.props.onScroll(t)},this.combineColumns=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.props.columnsConfig,a=void 0===n?[]:n;return t.map(function(e){var t=Object(c.e)(a,"Array")&&a.find(function(t){return t.dataIndex===e.dataIndex})||{};return H({},e,t)})}},B=function(e){function t(){return W(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,l.a),G(t,[{key:"getDefaultConfig",value:function(){return{left:60,top:60,width:1800,height:960,visible:!0}}},{key:"getDefaultData",value:function(){return D}},{key:"getReactComponent",value:function(){return F}}]),t}();B.defaultOptions={bordered:!1,showHeader:!0,empty:R.b,onCell:c.c,onRow:c.c,onScroll:c.c,getContainer:c.c,stopWhenMouseEvent:!1,autoplay:!0,interval:R.d,columnsConfig:[],pagination:{pageSize:R.f,onChange:c.c},sort:function(e){return e}},B.enableLoadCssFile=!0;var J=B;Object(a.registerComponent)("ScrollPageTable",J)},function(e,t,n){}]);